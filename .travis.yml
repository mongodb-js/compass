language: node_js
node_js:
  - '4.2.1'
# Need to add CXX env flag and g++-4.8 (in ubuntu-toolchain-r-test source)
# @see https://github.com/travis-ci/travis-ci/issues/4771
# @see https://github.com/redis/hiredis-node/blob/master/.travis.yml
addons:
  apt:
    sources:
      - ubuntu-toolchain-r-test
    packages:
      - libgnome-keyring-dev
      - g++-4.8
env:
  - CXX=g++-4.8
before_install:
  - npm install -g npm@3
  - npm config set loglevel error
  - npm config -g list -l
  - npm --version
script: npm run-script ci
cache:
  directories:
    - node_modules
# Post build notifications to the Integrations Flowdock
notifications:
  flowdock: e3dc17bc8a2c1b3412abe3e5747f8291
