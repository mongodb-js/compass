@import (reference) "mongodb-compass/src/app/styles/index.less";

@compass-sidebar-default-text-color: @gray5;
@compass-sidebar-base-background-color: @grayDark2;
@compass-sidebar-hover-background-color: @gray1;
@compass-sidebar-hover-background-color: lighten(hsl(204, 29%, 18%), 5%);
@compass-sidebar-active-background-color: @gray4;
@compass-sidebar-active-background-color: lighten(hsl(201, 11%, 41%), 10%);

.compass-sidebar-item {
  &-is-top-level {}
  &-content {
    background-color: inherit;
  }
  &-header {
    display: flex;
    flex-wrap: nowrap;
    align-items: center;
    padding: 6px 0;
    transition: background-color 180ms ease;
    overflow: hidden;

    .compass-sidebar-icon {
      display: inline-block;

      &-expand {
        transform: rotate(0);
        background-color: inherit;
      }
      &-expanded {
        transform: rotate(90deg);
      }
      &-create-collection {
        background-color: inherit;
      }
      &-drop-database {
        background-color: inherit;
      }
    }

    &-actions .compass-sidebar-icon,
    &-title {
      cursor: pointer;
      transition: all 180ms ease;
      flex: 1;
      flex-basis: auto;
      overflow: hidden;
      text-overflow: ellipsis;
      color: @pw;
      white-space: nowrap;
    }

    &-actions {
      &-expand {
        flex: none;
        padding: 0 8px;
        font-size: 0;
      }
      &-ddl {
        flex-shrink: 1;
        flex-basis: auto;
        padding: 0 0 0 8px;
      }
    }

    &-actions-ddl .compass-sidebar-icon {
      margin-right: 8px;
      display: none;
      color: @compass-sidebar-default-text-color;
    }

    &-actions-ddl .compass-sidebar-icon:hover {
      color: @pw;
    }

    /* :hover styles */

    &:hover {
      background: @compass-sidebar-hover-background-color;
      color: @pw;
    }

    &:hover .compass-sidebar-item-header-actions-ddl .compass-sidebar-icon {
      display: inline;
    }

    /* active + active:hover styles */

    &-is-active,
    &-is-active:hover {
      background: @compass-sidebar-active-background-color;
    }

    &-is-active .compass-sidebar-item-header-actions,
    &-is-active:hover .compass-sidebar-item-header-actions {
      color: @pw;
    }

    &-is-active .compass-sidebar-item-header-title,
    &-is-active:hover .compass-sidebar-item-header-title {
      color: @pw;
    }

    &-is-active .compass-sidebar-item-header-actions-ddl .compass-sidebar-icon,
    &-is-active:hover .compass-sidebar-item-header-actions-ddl .compass-sidebar-icon {
      color: @pw;
      display: inline;
    }

    /* disabled styles */
    &-actions-ddl .compass-sidebar-icon-is-disabled,
    &-actions-ddl .compass-sidebar-icon-is-disabled:hover {
      cursor: not-allowed;
      opacity: .4;
      color: @compass-sidebar-default-text-color;
    }
    &-is-active .compass-sidebar-item-header-actions-ddl .compass-sidebar-icon-is-disabled,
    &-is-active:hover .compass-sidebar-item-header-actions-ddl .compass-sidebar-icon-is-disabled {
      cursor: default;
      opacity: .4;
    }
  }
}
