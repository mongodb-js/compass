import { Meta, Story, Controls } from '@storybook/blocks';
import {
  Link,
  Button,
  IconButton,
  RequiredURLSearchParamsProvider,
} from './link';
import { Icon } from '../leafygreen';

<Meta
  title="Components/Navigation/Link"
  component={Link}
  parameters={{ layout: 'centered' }}
/>

# Link Components

The Link components provide a set of interactive elements for navigation, with built-in support for UTM parameters on MongoDB.com links. The package includes three variants: `Link`, `Button`, and `IconButton`.

## Usage

```tsx
import {
  Link,
  Button,
  IconButton,
  RequiredURLSearchParamsProvider,
} from '@mongodb-js/compass-components';

function MyComponent() {
  return (
    <RequiredURLSearchParamsProvider utmSource="compass" utmMedium="docs">
      <Link href="https://www.mongodb.com/docs">Documentation</Link>
      <Button href="https://www.mongodb.com/download">Download</Button>
      <IconButton href="https://www.mongodb.com/help">
        <Icon glyph="Help" />
      </IconButton>
    </RequiredURLSearchParamsProvider>
  );
}
```

## Examples

### Basic Link

<Story name="BasicLink">
  {() => (
    <RequiredURLSearchParamsProvider utmSource="compass" utmMedium="docs">
      <Link href="https://www.mongodb.com/docs">Documentation</Link>
    </RequiredURLSearchParamsProvider>
  )}
</Story>

### Link with External Icon

<Story name="LinkWithExternalIcon">
  {() => (
    <RequiredURLSearchParamsProvider utmSource="compass" utmMedium="docs">
      <Link href="https://www.mongodb.com/docs" hideExternalIcon={false}>
        Documentation (with external icon)
      </Link>
    </RequiredURLSearchParamsProvider>
  )}
</Story>

### Button Link

<Story name="ButtonLink">
  {() => (
    <RequiredURLSearchParamsProvider utmSource="compass" utmMedium="docs">
      <Button href="https://www.mongodb.com/download" variant="primary">
        Download MongoDB
      </Button>
    </RequiredURLSearchParamsProvider>
  )}
</Story>

### Icon Button Link

<Story name="IconButtonLink">
  {() => (
    <RequiredURLSearchParamsProvider utmSource="compass" utmMedium="docs">
      <IconButton href="https://www.mongodb.com/help" aria-label="Help">
        <Icon glyph="Help" />
      </IconButton>
    </RequiredURLSearchParamsProvider>
  )}
</Story>

### Non-MongoDB Link

<Story name="NonMongoDBLink">
  {() => (
    <RequiredURLSearchParamsProvider utmSource="compass" utmMedium="docs">
      <Link href="https://example.com">External Link</Link>
    </RequiredURLSearchParamsProvider>
  )}
</Story>

## Guidelines

- Use the `RequiredURLSearchParamsProvider` to set UTM parameters for MongoDB.com links
- The `Link` component is best for text-based navigation
- The `Button` component is best for prominent call-to-action links
- The `IconButton` component is best for icon-only navigation
- All components automatically handle UTM parameters for MongoDB.com links
- External links can optionally show an external link icon
- All components are accessible and include appropriate ARIA attributes
- The components support all props from their respective LeafyGreen base components

## Props

<Controls />
