import { Meta, Story, Controls } from '@storybook/blocks';
import { TabNavBar } from './tab-nav-bar';
import { css } from '@leafygreen-ui/emotion';
import { spacing } from '@leafygreen-ui/tokens';

<Meta
  title="Components/Navigation/TabNavBar"
  component={TabNavBar}
  parameters={{ layout: 'centered' }}
  argTypes={{
    'aria-label': {
      control: 'text',
      description: 'Accessibility label for the tab navigation',
    },
    activeTabIndex: {
      control: 'number',
      description: 'Index of the currently active tab',
    },
    onTabClicked: {
      action: 'tab clicked',
      description: 'Callback when a tab is clicked',
    },
    tabs: {
      control: 'object',
      description: 'Array of tab objects with name, title, and content',
    },
  }}
/>

# TabNavBar

The TabNavBar component provides a tabbed interface with content that scrolls when it overflows, while keeping the tabs in a fixed position.

## Usage

```tsx
import { TabNavBar } from '@mongodb-js/compass-components';

function BasicTabs() {
  const [activeTabIndex, setActiveTabIndex] = useState(0);
  const tabs = [
    {
      name: 'overview',
      title: 'Overview',
      content: <div>Overview content</div>,
    },
    {
      name: 'settings',
      title: 'Settings',
      content: <div>Settings content</div>,
    },
    {
      name: 'advanced',
      title: 'Advanced',
      content: <div>Advanced content</div>,
    },
  ];
  return (
    <TabNavBar
      aria-label="Example Tabs"
      activeTabIndex={activeTabIndex}
      onTabClicked={setActiveTabIndex}
      tabs={tabs}
    />
  );
}
```

## Examples

### Basic

<Story name="Basic">
  {() => {
    const [activeTabIndex, setActiveTabIndex] = React.useState(0);
    const containerStyles = css({
      width: '800px',
      height: '400px',
      border: '1px solid var(--leafygreen-ui-gray-light-2)',
      borderRadius: '6px',
      overflow: 'hidden',
    });
    const contentStyles = css({
      padding: spacing[3],
      height: '100%',
      overflow: 'auto',
    });
    const tabs = [
      {
        name: 'overview',
        title: 'Overview',
        content: (
          <div className={contentStyles}>
            <h2>Overview Content</h2>
            <p>This is the overview tab content.</p>
          </div>
        ),
      },
      {
        name: 'settings',
        title: 'Settings',
        content: (
          <div className={contentStyles}>
            <h2>Settings Content</h2>
            <p>This is the settings tab content.</p>
          </div>
        ),
      },
      {
        name: 'advanced',
        title: 'Advanced',
        content: (
          <div className={contentStyles}>
            <h2>Advanced Content</h2>
            <p>This is the advanced tab content.</p>
          </div>
        ),
      },
    ];
    return (
      <div className={containerStyles}>
        <TabNavBar
          aria-label="Example Tabs"
          activeTabIndex={activeTabIndex}
          onTabClicked={setActiveTabIndex}
          tabs={tabs}
        />
      </div>
    );
  }}
</Story>

Basic tab navigation with multiple tabs.

### Long Content

<Story name="LongContent">
  {() => {
    const [activeTabIndex, setActiveTabIndex] = React.useState(0);
    const containerStyles = css({
      width: '800px',
      height: '400px',
      border: '1px solid var(--leafygreen-ui-gray-light-2)',
      borderRadius: '6px',
      overflow: 'hidden',
    });
    const contentStyles = css({
      padding: spacing[3],
      height: '100%',
      overflow: 'auto',
    });
    const tabs = [
      {
        name: 'short',
        title: 'Short Content',
        content: (
          <div className={contentStyles}>
            <h2>Short Content</h2>
            <p>This tab has minimal content.</p>
          </div>
        ),
      },
      {
        name: 'long',
        title: 'Long Content',
        content: (
          <div className={contentStyles}>
            <h2>Long Content</h2>
            {Array.from({ length: 20 }).map((_, i) => (
              <p key={i}>
                This is paragraph {i + 1} of a long scrollable content. The
                content area will scroll while the tabs remain fixed at the top.
              </p>
            ))}
          </div>
        ),
      },
    ];
    return (
      <div className={containerStyles}>
        <TabNavBar
          aria-label="Content Length Example"
          activeTabIndex={activeTabIndex}
          onTabClicked={setActiveTabIndex}
          tabs={tabs}
        />
      </div>
    );
  }}
</Story>

Tab navigation with scrollable content area.

### Custom Title

<Story name="CustomTitle">
  {() => {
    const [activeTabIndex, setActiveTabIndex] = React.useState(0);
    const containerStyles = css({
      width: '800px',
      height: '400px',
      border: '1px solid var(--leafygreen-ui-gray-light-2)',
      borderRadius: '6px',
      overflow: 'hidden',
    });
    const contentStyles = css({
      padding: spacing[3],
      height: '100%',
      overflow: 'auto',
    });
    const tabs = [
      {
        name: 'text',
        title: 'Text Tab',
        content: (
          <div className={contentStyles}>
            <h2>Text Tab Content</h2>
            <p>This tab has a simple text title.</p>
          </div>
        ),
      },
      {
        name: 'custom',
        title: (
          <div
            style={{ display: 'flex', alignItems: 'center', gap: spacing[2] }}
          >
            <span>Custom Title</span>
            <span style={{ color: 'var(--leafygreen-ui-red-base)' }}>‚óè</span>
          </div>
        ),
        content: (
          <div className={contentStyles}>
            <h2>Custom Title Content</h2>
            <p>This tab has a custom title with an icon.</p>
          </div>
        ),
      },
    ];
    return (
      <div className={containerStyles}>
        <TabNavBar
          aria-label="Custom Title Example"
          activeTabIndex={activeTabIndex}
          onTabClicked={setActiveTabIndex}
          tabs={tabs}
        />
      </div>
    );
  }}
</Story>

Tab navigation with custom title elements.

## Props

<Controls />
