mixin jsvalue(value, _type)
  if _type === 'Array'
    - value = 'Array[' + value.length + ']'
    .document-property-type-label= value
  else if _type === 'Object'
    - value = 'Object'
    .document-property-type-label= value
  else
    if _type === 'Date'
      - value = moment(value).format('LLL')
    .document-property-value(title=value)= value

mixin jsarray(items)
  ol.document-property-body
    each item in items
      +jsproperty(null, item)
      
mixin jsproperty(key, value)
  - _type = getType(value)
  li(class='document-property #{_type.toLowerCase()}')
    .document-property-header
      if _type === 'Array' || _type === 'Object'
        .caret
      if key
        .document-property-key= key
        |:
      +jsvalue(value, _type)
    if _type === 'Array'
      +jsarray(value)
    if _type === 'Object'
      +jsobject(value)

mixin jsobject(obj)
  ol.document-property-body
    for value, key in obj
      +jsproperty(key, value)

li.document-list-item
  +jsobject(model.serialize())
